<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FMP — Workshop | الورشة Registration</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <main class="page">
    <header class="header">
      <div class="brand">
        <div class="brand-top">FMP — FUTURE MINERALS PIONEERS</div>
        <h1>Workshop | الورشة Competitor Registration | تسجيل منافسي الورش</h1>
        <p class="sub">
          Pick a workshop, then pick a time. You’ll see the spots left before you submit. | اختر ورشة ثم اختر الوقت — ستظهر المقاعد المتبقية قبل الإرسال.
        </p>
      </div>
    </header>

    <section class="card">
      <!-- Logo goes here (center top) -->
      <div class="logo-wrap">
        <!-- Replace src with your logo file later -->
        <img class="logo" src="./assets/logo-placeholder.svg" alt="FMP Logo" />
      </div>

      <form id="regForm" class="form" autocomplete="on">
        <div class="grid">
          <div class="field">
            <label>Full Name | الاسم الكامل <span class="req">*</span></label>
            <input name="full_name" placeholder="Your full name | اسمك الكامل" required />
          </div>

          <div class="field">
            <label>Email | البريد الإلكتروني <span class="req">*</span></label>
            <input name="email" type="email" placeholder="name@email.com | بريدك@example.com" required />
          </div>

          <div class="field">
            <label>Phone (with country code) | رقم الجوال (مع رمز الدولة) <span class="req">*</span></label>
            <input name="phone" placeholder="+966... | مثال: +9665xxxxxxx" required />
          </div>

          <div class="field">
            <label>Team Name | اسم الفريق <span class="req">*</span></label>
            <input name="team_name" placeholder="Team name | اسم الفريق" required />
          </div>

          <div class="field">
            <label>Track Name | المسار <span class="req">*</span></label>
            <select name="track_name" required>
              <option value="" selected disabled>Select track | اختر المسار</option>
              <option>Exploration</option>
              <option>Processing</option>
              <option>Innovation</option>
            </select>
          </div>

          <div class="field">
            <label>Workshop | الورشة <span class="req">*</span></label>
            <select id="workshopSelect" name="workshop_id" required>
              <option value="" selected disabled>Select workshop | اختر الورشة</option>
            </select>
          </div>

          <div class="field">
            <label>Time Slot | الوقت <span class="req">*</span></label>
            <select id="sessionSelect" name="session_id" required disabled>
              <option value="" selected disabled>Pick a workshop first | اختر الورشة أولاً</option>
            </select>
          </div>
        </div>

        <div class="availability" aria-live="polite">
          <div class="availability-head">
            <h2>Availability | التوفر</h2>
            <span id="statusPill" class="pill pill-muted">Select workshop | اختر الورشة + time</span>
          </div>

          <div class="availability-body">
            <div class="big" id="spotsLeft">—</div>
            <div class="small" id="spotsNote">Choose a time slot to see spots left. Full sessions are disabled. | اختر الوقت لعرض المقاعد المتبقية. الجلسات الممتلئة ستكون غير متاحة.</div>
          </div>
        </div>

        <div class="submitted-as" id="submittedAs"></div>

        <button id="submitBtn" class="btn" type="submit" disabled>
          Submit Registration | إرسال التسجيل
        </button>

        <div class="msg" id="msg"></div>
      </form>

      <div class="admin-link">
        Admin? Go to | للمشرف: <a href="./admin.html">admin.html</a>
      </div>
    </section>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="./app.js"></script>
</body>
</html>
